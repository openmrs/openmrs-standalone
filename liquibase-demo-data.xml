<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
	
	<changeSet id="20111202-1601" author="standalone" dbms="mysql">
		<comment>Adding demo data and updating the 'liquibasechangelog' table to work with version 2.0.x</comment>
		<sqlFile path="Demo-1.9.0.sql" encoding="UTF-8" />
		
		<!-- 
			We need to make the liquibasechangelog table modifications to 2.0.x within this changeset because
			the one in demo data was created with version 1.9.x, so that liquibase doesn't fail when entering
			this changeset into table because of the missing columns that are required.
			See http://www.liquibase.org/download for more details.
		 -->

		<ext:modifyColumn tableName="liquibasechangelog">
			<column name="MD5SUM" type="varchar(35)" />
		</ext:modifyColumn>
	</changeSet>
	
	<changeSet id="20141010-4492" author="standalone" dbms="mysql">
	
		<preConditions onFail="MARK_RAN">
			<foreignKeyConstraintExists foreignKeyName="belongs_to_tribe" />
		</preConditions>
		<comment>Dropping foreign key on patient.tribe</comment>
		
		<dropForeignKeyConstraint baseTableName="patient" constraintName="belongs_to_tribe" />
		<comment>updated changes made to tables after dropping a column named tribe from table patient was made on liquibase-schema-only.xml</comment>
	</changeSet>
	   
</databaseChangeLog>
