<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd
    http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">

	<!-- 
		See http://www.liquibase.org/manual/home#available_database_refactorings 
		for a list of supported elements and attributes 
	-->
	
	<changeSet id="20170502-1600" author="standalone" dbms="mysql">
		<comment>Adding static demo data</comment>
		<sqlFile path="src/main/db/demo-db-2.6.0.sql" encoding="UTF-8" />
	</changeSet>

	<!--
		This change set was introduced as a replacement for the "INSERT INTO `scheduler_task_config` ... "
		statement in src/main/db/demo-db-2.6.0.sql.

		The original insert statement broke the build after upgrading Liquibase from version 2.0.5 to version 3.8.9.
	-->
	<changeSet author="wolf (hand-rolled)" id="1582473679024-24">
		<preConditions onFail="MARK_RAN" onError="MARK_RAN">
			<sqlCheck expectedResult="0">
				SELECT COUNT(*) FROM scheduler_task_config WHERE task_config_id = 2
			</sqlCheck>
		</preConditions>
		<insert tableName="scheduler_task_config">
			<column name="task_config_id" valueNumeric="2"/>
			<column name="name" value="Auto Close Visits Task"/>
			<column name="description" value="Stops all active visits that match the visit type(s) specified by the value of the global property 'visits.autoCloseVisitType'"/>
			<column name="schedulable_class" value="org.openmrs.scheduler.tasks.AutoCloseVisitsTask"/>
			<column name="start_time" valueDate="2011-11-28T23:59:59"/>
			<column name="start_time_pattern" value="MM/dd/yyyy HH:mm:ss"/>
			<column name="repeat_interval" valueNumeric="86400"/>
			<column name="start_on_startup" valueBoolean="false"/>
			<column name="started" valueBoolean="false"/>
			<column name="created_by" valueNumeric="1"/>
			<column name="date_created" valueDate="2018-06-04T18:30:16"/>
			<column name="changed_by"/>
			<column name="date_changed"/>
			<column name="last_execution_time"/>
			<column name="uuid" value="8c17b376-1a2b-11e1-a51a-00248140a5eb"/>
		</insert>
		<insert tableName="scheduler_task_config">
			<column name="task_config_id" valueNumeric="3"/>
			<column name="name" value="Process HL7 Task"/>
			<column name="description" value=""/>
			<column name="schedulable_class" value="org.openmrs.scheduler.tasks.ProcessHL7InQueueTask"/>
			<column name="start_time" valueDate="2017-05-02T15:45:38"/>
			<column name="start_time_pattern" value=""/>
			<column name="repeat_interval" valueNumeric="5"/>
			<column name="start_on_startup" valueBoolean="false"/>
			<column name="started" valueBoolean="false"/>
			<column name="created_by" valueNumeric="2"/>
			<column name="date_created" valueDate="2017-05-02T15:47:23"/>
			<column name="changed_by" valueNumeric="2"/>
			<column name="date_changed" valueDate="2017-05-02T15:47:23"/>
			<column name="last_execution_time" valueDate="2017-05-02T15:47:23"/>
			<column name="uuid" value="c8143724-9263-43ba-8250-162699eb6100"/>
		</insert>
	</changeSet>

</databaseChangeLog>